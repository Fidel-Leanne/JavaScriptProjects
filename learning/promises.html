<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
          let stock={
            fruits:['apple', 'banana', 'grapes','kiwi'],
            liquid:['water','ice'],
            holder: ['cone', 'cup']
        }

        let is_shop_open= true;

        let order=(time , work)=>{

              return new Promise((resolve , reject)=>{
                if (is_shop_open){
                    setTimeout(()=>{ 
                        resolve ( work())
                             },time)
                }
                else{
                    console.log('Sorry the shop is closed')
                    reject ('The Shop Is Closed ')
                }
              }
              )
        }

        order(2000,()=> console.log(`${stock.fruits[1]} was selected`))
     
        .then(()=> {
            return order(0 , ()=> {
                console.log(`production has started`)
            })
        })

        .then(()=>{
            return  order(2000, ()=>{
              console.log(`the fruit was chopped`)
            })
        }
             )

        .then(()=> {
            return order(1000, ()=>console.log(`${stock.liquid[0]} and ${stock.liquid[1]}  were selected`))
        })

       .then(()=>{
        return   order(500,( () => {
            console.log(`${stock.holder[0]} was selected`)}))
       }) 

       .then(()=>{
       return order (200,()=>{console.log(`all done`) })
       })
       
        
        .catch(()=>
        {
            console.error("Error")
        })

        .finally(()=>console.log('shop is closed')
        )

    


    
            </script>
</body>
</html>